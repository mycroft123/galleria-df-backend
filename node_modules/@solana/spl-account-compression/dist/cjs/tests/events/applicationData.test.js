"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const node_assert_1 = require("node:assert");
const bn_js_1 = require("bn.js");
const src_1 = require("../../src");
describe('Serde tests', () => {
    describe('ApplicationDataEvent tests', () => {
        it('Can serialize and deserialize ApplicationDataEvent', () => {
            const data = Buffer.from('Hello world');
            const applicationDataEvent = Buffer.concat([
                Buffer.from([0x1]), // ApplicationData Event tag
                Buffer.from([0x0]), // version 0 tag
                Buffer.from(new bn_js_1.BN.BN(data.length).toArray('le', 4)), // Size of application data (for Vec)
                data, // serialized application data (for Vec)
            ]);
            const deserialized = (0, src_1.deserializeApplicationDataEvent)(applicationDataEvent);
            const decoder = new TextDecoder();
            const deserializedData = decoder.decode(deserialized.fields[0].applicationData);
            (0, node_assert_1.strict)('Hello world' === deserializedData);
        });
    });
});
//# sourceMappingURL=applicationData.test.js.map